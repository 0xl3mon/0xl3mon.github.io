<!doctype html>
<html lang="en-us">
  <head>
    <title>Phising &amp; Recon De Una Organizacion // 0xl3monüï∑</title>
    <link rel="shortcut icon" href="/favicon.ico" />
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.80.0" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="0xl3mon" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="https://0xl3mon.github.io/css/main.min.7f004fbb8e19cf18afcf8a5fa13c66aae1fd075af8c583ae7b97a7b5aef1db40.css" />

    
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Phising &amp; Recon De Una Organizacion"/>
<meta name="twitter:description" content="Phising &amp; Remote Recon ¬øQu√© es el phishing? El Phishing es un t√©rmino inform√°tico que distingue a un conjunto de t√©cnicas que persiguen el enga√±o a una v√≠ctima gan√°ndose su confianza haci√©ndose pasar por una persona, empresa o servicio de confianza, para manipularla y hacer que realice acciones que no deber√≠a realizar.
A veces nos preguntamos como las personas recopilan informaci√≥n acerca de personas, servicios, o corporaciones con fines maliciosos&hellip; en este peque√±o articulo procede a detallar cuales son las herramientas y t√©cnicas que los &lsquo;malos&rsquo; utilizan en esta t√©cnica tan eficiente a dias de hoy."/>

    <meta property="og:title" content="Phising &amp; Recon De Una Organizacion" />
<meta property="og:description" content="Phising &amp; Remote Recon ¬øQu√© es el phishing? El Phishing es un t√©rmino inform√°tico que distingue a un conjunto de t√©cnicas que persiguen el enga√±o a una v√≠ctima gan√°ndose su confianza haci√©ndose pasar por una persona, empresa o servicio de confianza, para manipularla y hacer que realice acciones que no deber√≠a realizar.
A veces nos preguntamos como las personas recopilan informaci√≥n acerca de personas, servicios, o corporaciones con fines maliciosos&hellip; en este peque√±o articulo procede a detallar cuales son las herramientas y t√©cnicas que los &lsquo;malos&rsquo; utilizan en esta t√©cnica tan eficiente a dias de hoy." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://0xl3mon.github.io/posts/phising-recon-de-una-organizacion/" />
<meta property="article:published_time" content="2022-04-01T20:35:12+02:00" />
<meta property="article:modified_time" content="2022-04-01T20:35:12+02:00" />


  </head>
  <body>
    <header class="app-header">
      <a href="https://0xl3mon.github.io/"><img class="app-header-avatar" src="/avatar/cat-profile.jpg" alt="0xl3mon" /></a>
      <h1>0xl3monüï∑</h1>
      <nav class="app-header-menu">
          <a class="app-header-menu-item" href="/posts/">ùòèùò∞ùòÆùò¶</a>
             - 
          
          <a class="app-header-menu-item" href="/htb/">ùòèùò¢ùò§ùò¨ùòõùò©ùò¶ùòâùò∞ùòπ</a>
             - 
          
          <a class="app-header-menu-item" href="/about/">ùòàùò£ùò∞ùò∂ùòµ</a>
      </nav>
      <p>‚ÑÇùï™ùïìùïñùï£ùïäùïñùïîùï¶ùï£ùïöùï•ùï™ ùîπùïùùï†ùïò </p>
      <div class="app-header-social">
        
          <a href="https://github.com/0xl3mon" target="_blank" rel="noreferrer noopener">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github">
  <title>Github</title>
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
</svg>
          </a>
        
          <a href="https://www.linkedin.com/in/rodrigo-flores-36847a233/" target="_blank" rel="noreferrer noopener">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-linkedin">
  <title>Linkedin</title>
  <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle>
</svg>
          </a>
        
      </div>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">Phising &amp; Recon De Una Organizacion</h1>
      <div class="post-meta">
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          Apr 1, 2022
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          15 min read
        </div>
      </div>
    </header>
    <div class="post-content">
      <h1 id="phising--remote-recon">Phising &amp; Remote Recon</h1>
<p><img src="https://latam.kaspersky.com/content/es-mx/images/repository/isc/2017-images/spam-phishing-img-02.jpg" alt=""></p>
<h2 id="qu√©-es-el-phishing">¬øQu√© es el phishing?</h2>
<p>El Phishing es un t√©rmino inform√°tico que distingue a un conjunto de t√©cnicas que persiguen el enga√±o a una v√≠ctima gan√°ndose su confianza haci√©ndose pasar por una persona, empresa o servicio de confianza, para manipularla y hacer que realice acciones que no deber√≠a realizar.</p>
<p>A veces nos preguntamos como las personas recopilan informaci√≥n acerca de personas, servicios, o corporaciones con fines maliciosos&hellip; en este peque√±o articulo procede a detallar cuales son las herramientas y t√©cnicas que los &lsquo;malos&rsquo; utilizan en esta t√©cnica tan eficiente a dias de hoy.</p>
<h2 id="para-que-sirve">Para que sirve</h2>
<p>El phising es la actividad de compromiso m√°s com√∫n y las caracter√≠sticas m√°s comunes del phising es :</p>
<p>‚Ä¢ El vector de ataque &ldquo;cl√°sico&rdquo;</p>
<p>‚Ä¢ Utilizado para repartir malware por correo electr√≥nico.</p>
<p>‚Ä¢ Todav√≠a se utiliza en campa√±as de fraude y entregas Payloads.</p>
<h2 id="information-gathering---recon">Information Gathering - Recon</h2>
<p>A continuaci√≥n armaremos una peque√±a lista de los temas que tocaremos</p>
<ul>
<li>
<p><strong>Motores de b√∫squedas</strong> : <code>Google, Bing </code> -&gt; Un poco de dorking</p>
</li>
<li>
<p><strong>Reconocimiento</strong></p>
</li>
<li>
<p><strong>Dns/whois, Dig</strong> -&gt; Enumeraci√≥n de dominios</p>
</li>
<li>
<p><strong>Shodan</strong> -&gt; Reconocimiento de Servicios</p>
</li>
<li>
<p><strong>Dumpster</strong> -&gt; Reconocimiento de Dns y subdominios</p>
</li>
<li>
<p><strong>Hunter.io</strong> -&gt; Reconocimiento de Emails e informaci√≥n de contacto</p>
</li>
<li>
<p><strong>Redes sociales</strong> -&gt; Informaci√≥n √∫til para etapas posteriores de phising</p>
</li>
</ul>
<h3 id="google-dorking">Google Dorking</h3>
<p>Google dorking es una t√©cnica para realizar b√∫squedas m√°s precisas e ignorar resultados que no nos interesan del todo, para eso debemos hacer uso de par√°metros de b√∫squedas como:</p>
<p><a href="https://gist.github.com/sundowndev/283efaddbcf896ab405488330d1bbc06">Google Dork Cheatsheet</a></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">
#(Buscamos tipo de fichero, sitio, texto)

site:packetstormsecurity.com filetype:pdf intext:buffer overflow

#(Files xls)

filetype:xls &#34;Precios de casas&#34; and &#34;Rosario, Argentina&#34;

#(Any Doc file what contain &#34;Security plan of the site gov.in&#34;)

filetype:doc ‚Äúsecurity plan‚Äù site:gov.in

# Admins credentials

intext:company_keyword &amp; ext:txt | ext:sql | ext:cnf | ext:config | ext:log &amp; intext:&#34;admin&#34; | intext:&#34;root&#34; | intext:&#34;administrator&#34; &amp; intext:&#34;password&#34; | intext:&#34;root&#34; | intext:&#34;admin&#34; | intext:&#34;administrator&#34;

# Look for domains indexed by others website

site:bgp.he.net inurl:ndd

site:dnslookup.fr inurl:ndd

# Get informaci√≥n on the internal organization

sites:cadres.apec.fr direction &lt;SOCIETE&gt;

</code></pre></div><h4 id="ejemplo-dorking">Ejemplo Dorking</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">
site:cisco.com -site:www.cisco.com

site:newsroom.cisco.com -site:forums.cisco.com -site:blogs.cisco.com

</code></pre></div><p>Con el operador <strong>&quot;-&quot;</strong> encontramos nombres de host interesantes y reducimos los sus resultados</p>
<p><strong>Example II</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">
Para ser m√°s especifico :

‚Äê excluimos el tipo de fichero con -ext (extensios, filetype)

‚Äê site:argentina.gov -&gt; regresa 14.000 resultados

‚Äê site:argentina.gov -ext:htm -ext:html -&gt; regresa 4000 resultados

(Este dominio por razones obvias no existe, es a modo de ejemplo)

</code></pre></div><p><strong>Example III</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">
login | logon -&gt; Busca las p√°ginas de inicio dentro de un sitio de destino

username | userid | employee.ID -&gt; Busca posible informaci√≥n de credenciales

password | passcode | ‚Äúyour password is‚Äù -&gt; Puede ayudar a encontrar credenciales (bastante raro) mas amenudo regresa paginas que ayudan a recuperar contrase√±as a los usuarios

admin | administrator -&gt; Paginas de administraci√≥n de la aplicacion

intranet | help.desk -&gt; Puede localizar informaci√≥n de contacto de una mesa de ayuda, util para ejercisios de phising y pretecto... asi como portales de inicio de sesi√≥n

</code></pre></div><p><img src="https://i.imgur.com/wFGdvdY.png" alt=""></p>
<p>El uso de operadores negativos como &ldquo;-ext:&rdquo; puede ayudar a reducir los resultados nuevamente, acerc√°ndole a lo que est√°</p>
<p>buscando.</p>
<p><strong>&quot;-Ext&quot;</strong> eliminar√° p√°ginas e informaci√≥n de las consultas de Google con extensiones espec√≠ficas.</p>
<p><img src="https://i.imgur.com/TnwAWpw.png" alt=""></p>
<h4 id="recomiendo-google-hacking-database-de-exploit-db">Recomiendo google hacking database de exploit DB</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">
https://www.exploit-db.com/google-hacking-database

</code></pre></div><h3 id="shodan">Shodan</h3>
<p>Shodan es un motor de b√∫squeda para dispositivos conectados a Internet. es una herramienta muy poderosa a la hora de enumerar ya que tambi√©n podemos elaborar consultas de b√∫squeda e incluir filtros como los siguientes</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">
- net: Especificamos Bloque de ip CIDR

- city: Ciudad donde se encuentra el target

- country: Pa√≠s donde se encuentra el target

- port: Puerto de servicio

- before: Posted before a certain data

- after: posted after a certain date

- os: Sistema operativo en uso

</code></pre></div><p><img src="https://i.imgur.com/MtPEjzj.png" alt=""></p>
<h3 id="whois">Whois</h3>
<p>Es un protocolo TCP basado en petici√≥n/respuesta que se emplea para realizar consultas en una base de datos, permitiendo <strong>identificar al propietario</strong> de un nombre de dominio o una direcci√≥n IP en Internet.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">
- **Podemos identificar bloques de ip CIDR**

- informaci√≥n de contactos.

‚Äê **NS**: Nameserver(servidor de nombres) records

los registros **NS** delegan la zona DNS para usar los servidores de nombres autorizados dados

‚Äê **A**: Address records

El registro **A** se utiliza para una resoluci√≥n de DNS directo. En resumen, el registro **A** apunta su dominio a su servidor

‚Äê **MX**: Mail Exchange records

(MX) de DNS dirige el correo electr√≥nico a un servidor de correo

‚Äê **PTR**: Pointers, inverse lookup record

Resuelve las direcciones ip en nombre s dominio, crea una zona de dns inversa
</code></pre></div><p><img src="https://i.imgur.com/5YN8i7v.png" alt=""></p>
<h3 id="reconocimiento-con-fuentes-p√∫blicas-de-una-organizaci√≥n">Reconocimiento Con Fuentes p√∫blicas de una organizaci√≥n</h3>
<p>Hay numerosos sitios publicos que pueden brindarle informaci√≥n acerca de una organizaci√≥n o compa√±√≠a.</p>
<ul>
<li>
<p><strong>Rocket Reach</strong> : buscador de emails, n√∫meros de tel√©fono e informaci√≥n de contacto</p>
</li>
<li>
<p><strong>Zoominfo</strong> : vende acceso a su base de datos de informaci√≥n sobre empresarios y empresas a profesionales de ventas</p>
</li>
<li>
<p>Registro Nacional de personas, sitios p√∫blicos del gobierno/estado donde consultar informaci√≥n</p>
</li>
<li>
<p>informaci√≥n de contacto en los sitios webs de la organizaci√≥n - donde encontramos nombres, tel√©fono y emails</p>
</li>
</ul>
<h3 id="redes-sociales">Redes sociales</h3>
<p>Las redes sociales son las m√°s fruct√≠feras, ya que en ella se dejan demasiada informaci√≥n √∫til para etapas posteriores a la hora de realizar alg√∫n tipo de ataque de ingenier√≠a social lo m√°s com√∫n es encontrar.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">
- Ubicaci√≥n

- Empleo

- Informaci√≥n de contacto

- Hobbies e intereses

- Informaci√≥n de la familia
</code></pre></div><h3 id="dnsquery">DNSquery</h3>
<p>Es un sitio para reconocimientos de hosts,  bastante √∫til ya que usted puede realizar distintos de tareas</p>
<p><strong>DNSQUERY</strong> con el ud puede hacer un reconocimiento b√°sico de red simple y b√°sica para sitios y servicios en l√≠nea.</p>
<p><img src="https://i.imgur.com/BoQ3HRx.png" alt=""></p>
<h4 id="brecha-de-datos-si-es-que-identificamos-correos">Brecha de datos si es que identificamos correos</h4>
<ul>
<li>
<p><a href="https://www.dehashed.com/">Dehashed</a></p>
</li>
<li>
<p><a href="https://haveibeenpwned.com/">HaveIBeenPwned</a></p>
</li>
<li>
<p><a href="https://intelx.io/">Intelx.io</a> <strong>Osint + identifica brechas de datos</strong></p>
</li>
</ul>
<h4 id="busquedas-de-osint">Busquedas de OSINT</h4>
<ul>
<li>
<p><strong>SpiderFoot</strong> [https://github.com/smicallef/spiderfoot]</p>
</li>
<li>
<p><a href="https://osintframework.com/">OsintFrameWork</a></p>
</li>
<li>
<p><a href="https://www.namecheckr.com/">NameCheckr</a> - Enumerar desde un email a cuentas en distintas plataformas</p>
</li>
</ul>
<p><strong>Creepy</strong></p>
<p><a href="http://www.geocreepy.com/">Cree.py</a> es una herramienta de geolocalizaci√≥n bastante √∫til</p>
<hr>
<h4 id="the-harvester">The Harvester</h4>
<p>The harvester es una herramienta que realiza b√∫squedas en distintos motores de b√∫squeda como <strong>Google, LinkedIn, Bing, Shodan</strong> y otras fuentes tambi√©n puede enumerar</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">
- Informacion de de DNS

- Personas

- Emails

- Servicios conocidos.
</code></pre></div><p><img src="https://i.imgur.com/0qGQYTl.png" alt=""></p>
<p>Como ven es una fant√°stica herramienta de reconocimiento ya que en los resultados podemos identificar los cargos de empleados como de administraci√≥n, recursos humanos, o ingenieros de softwares etc.</p>
<h4 id="recon-ng">Recon-NG</h4>
<p>Recon-ng es uno de los DreamWorks m√°s vers√°tiles para el reconocimiento.</p>
<p>El fue construido por Tim Tomes, quien desarroll√≥ la herramienta para <strong>emular el mismo modelo interactivo que se encuentra en Metasploit</strong></p>
<p>El framework se puede descargar en <a href="https://github.com/lanmaster53/RECON-NG">https://github.com/lanmaster53/RECON-NG</a>.</p>
<p>**Recon-NG tiene varios m√≥dulos de reconocimiento disponibles, incluidas las b√∫squedas de dominio, la orientaci√≥n de las redes sociales,</p>
<p>Informaci√≥n de geo localizaci√≥n y muchos m√°s. El m√≥dulo &ldquo;Profiler&rdquo; de Micah Hoffman es una herramienta fant√°stica para mirar hacia arriba</p>
<p>Informaci√≥n del usuario en l√≠nea, y lo describe en detalle en su sitio.**</p>
<p><img src="https://i.imgur.com/u9gMxjS.png" alt=""></p>
<h3 id="metadatos">Metadatos</h3>
<p>Es interesante analizar los metadatos de material audio visual, ya que podemos encontrar informaci√≥n como rutas de directorios, informaci√≥n del autor, informaci√≥n de la c√°mara, inclusive hasta coordenadas de localizaci√≥n.</p>
<ul>
<li>
<p><strong>Exiftool</strong></p>
</li>
<li>
<p><strong>Foca</strong></p>
</li>
</ul>
<hr>
<h4 id="web-spidering-">Web Spidering üï∏</h4>
<p>Si bien no es puramente &ldquo;Recon&rdquo;, ya estar√≠amos rosando el escaneo activo, el Spidering de sitios web mas bien es enumerar posibles rutas hacia recursos que no se est√°n listando publicamente , mas bien son recursos que se ocultan en los motores de b√∫squedas con el fichero <strong>robots.txt</strong> en el podemos espeficar que mostrar e ingorar cuando un crawler de b√∫squeda reconoce nuestro sitio web.</p>
<p>Hay muchas herramientas que puedes usar para el <strong>Spidering de servidores web</strong>:</p>
<ul>
<li>
<p>wget</p>
</li>
<li>
<p>BURP</p>
</li>
<li>
<p>ZAP</p>
</li>
<li>
<p>Siempre busque el archivo <strong>robots.txt</strong> en el ra√≠z de un sitio web!</p>
</li>
</ul>
<p>ejemplo:</p>
<p><a href="https://www.midominio.eu/robots.txt">https://www.midominio.eu/robots.txt</a></p>
<ul>
<li>Dorking para encontrar <strong>robots.txt</strong></li>
</ul>
<pre><code>
site: &quot;robots.txt&quot; &quot;disallow:&quot; filetype:txt

</code></pre><p><img src="https://i.imgur.com/7xb5spe.png" alt=""></p>
<h3 id="una-vez-que-ya-hemos-recopilado-informacion-de-nuestro-target">Una vez que ya hemos recopilado informacion de nuestro target</h3>
<p>Debemos comenzar a analizar la informaci√≥n y hacer <strong>&lsquo;Conexiones&rsquo;</strong> como :</p>
<ul>
<li>
<p>Relaciones personales/empresariales.</p>
</li>
<li>
<p>Organizaciones/Pasatiempos relacionados</p>
</li>
<li>
<p>Funciones/funciones de trabajo</p>
</li>
<li>
<p>Ubicaciones</p>
</li>
<li>
<p>Opiniones/Preferencia</p>
</li>
</ul>
<p>con el fin de armar un perfil.</p>
<p>Esto no tiene estar completo 100% desde el principio de hecho, es probable que tenga que descubrir los usuarios/emails espec√≠ficos, especialmente si se planifican ataques avanzados como ataques de Spear Phising.</p>
<h4 id="ejemplo-de-un-perfil-de-prueba">Ejemplo de un Perfil de Prueba</h4>
<p>Un perfil de muestra de un objetivo puede incluir:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">
Nombre(s)

Direcciones de correo electr√≥nico y n√∫meros de tel√©fono.

Direcciones f√≠sicas

Miembros de la familia/Relaciones

Aficiones

Organizaciones/causas afiliadas

</code></pre></div><p><strong>Direcciones f√≠sicas</strong>: son generalmente para organizaciones e instalaciones relacionadas con el trabajo, No queremos acechar a la gente y esto suele estar fuera de los l√≠mites del alcance y las reglas de compromiso</p>
<p><strong>Miembros/relaciones familiares</strong>: si puede aprender los nombres de familia o los intereses de alguien, esto puede resultar √∫til para</p>
<p>Enga√±ar a una persona para que ella pulse un link o abra un correo electr√≥nico.</p>
<p><strong>En la Ingenier√≠a social necesitas ser consciente que usas t√°cticas que violan la √©tica fundamental.</strong></p>
<p>Aunque los verdaderos atacantes pueden no tener l√≠mites sobre c√≥mo realizan la ingenier√≠a social, es muy poco probable que estemos en esa misma posici√≥n</p>
<p><img src="https://i.imgur.com/jKDrH7B.png" alt=""></p>
<h4 id="c√≥mo-alguien-puede-suplantar-el-correo-de-un-dominio-u-otra-persona">¬øC√≥mo alguien puede suplantar el correo de un dominio u otra persona?</h4>
<h3 id="mail-spoofing">Mail Spoofing</h3>
<p>Dicho de una forma sencilla, el Mail Spoofing es cuando alguien nos env√≠a un correo donde el campo de entrada <strong>FROM</strong> del remitente es falso , de forma que podr√≠an decirte que el correo te lo ha enviado una persona, empresa o entidad bancaria pero que realmente no son ellos los que realizan este env√≠o.</p>
<p>la t√©cnica de mail spoofing generalmente  es utilizada cuando tenemos en cuenta 3 protocolos de correo</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">
- **SPF**, **DKIM** y **DMARC**

- **DKIM** : permite firmar el correo con tu dominio mediante claves p√∫blicas indicadas en las zonas de tu dominio, para asegurar que ha sido enviado desde tu servidor y ha sido incerceptado ni modificado.

- **SPF** : Se encarga de certificar que IP puede mandar correos utilizando el DOMINIO **(Lo podemos chequear con nslookup)**

- **Dmarc**: Este registro indica qu√© hacer cuando dan error los registros anteriores es complementario de SPF y DKIM

- son protocolos de autenticaci√≥n de emails que certifican a los servidores de correo como Gmail, Yahoo o Hotmail que el sender que est√° enviando un email es seguro y es quien dice ser. En otras palabras, es como si a tus emails les pusieran una pulsera o una medalla que diga ‚Äúhey, es un remitente seguro, puede pasar‚Äù

</code></pre></div><blockquote>
<p>Utiliza registro SPF para evitar el Mail Spoofing.</p>
</blockquote>
<p><strong>es decir si el encargado en esta √°rea de su organizaci√≥n no ha registrado o se ha olvidado ante la autoridad dos de registrar que pertenece a tal organizaci√≥n</strong>, un atacante puede suplantar el correo de un dominio.</p>
<ul>
<li>
<p><strong>Checker de comprobacion Dmarc</strong></p>
</li>
<li>
<p><a href="https://dmarcian.com/">https://dmarcian.com/</a></p>
</li>
<li>
<p><a href="https://mxtoolbox.com/">https://mxtoolbox.com/</a></p>
</li>
</ul>
<p><img src="https://i.imgur.com/6qnHe5x.png" alt=""></p>
<p>Le sugiero que investigue en profundidad estos t√≥picos, ya que en este art√≠culo se basa en un enfoque m√°s pr√°ctico y superficial que en cuestiones meramente t√©cnicas en las que es interesantes de aprender c√≥mo funcionan.</p>
<p>Con esta informaci√≥n en poder sabemos que podemos suplantar el correo de un dominio o bien hacerse pasar por otra persona, por ejemplo alguien de recursos humanos o un jefe de otro departamento. la creatividad es la clave.</p>
<p><strong>Chequeando SPF</strong></p>
<p><img src="https://i.imgur.com/xYorArp.png" alt=""></p>
<p>vemos que en el registro <strong>spf</strong> podemos identificar servidores de correo e incluso rangos de ip</p>
<ul>
<li>
<p>los rangos de ip son a lo que se les permite enviar correo electr√≥nico en el dominio</p>
</li>
<li>
<p><strong>Tenga en cuenta el parametro al final de este campo (en este caso -all)</strong></p>
</li>
</ul>
<p>Hay un n√∫mero de pol√≠ticas que pueden afectar la prueba de pisan por email:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">
- **-all** <span style="color:#f92672">(</span>rechaza o falla si las pruebas no coinciden absolutamente<span style="color:#f92672">)</span>

- **~all** <span style="color:#f92672">(</span>rechazo liviana; Marca el correo como sospechoso pero lo acepta<span style="color:#f92672">)</span>

- **+all** <span style="color:#f92672">(</span>lo acepta independientemente de donde venga<span style="color:#f92672">)</span>

- **?all** <span style="color:#f92672">(</span>aceptan el correo, pero no pueden clasificarlo negativamente o positivamente<span style="color:#f92672">)</span>

</code></pre></div><p>Si consultamos otro dominio, encontraremos una cantidad significativa de otras direcciones IP que tambi√©n se deben considerar.</p>
<p>Motivos por los cuales el correo enviado podr√≠a ser bloqueado</p>
<p><strong>Enlaces sospechosos</strong></p>
<ul>
<li>
<p>dominios inusuales</p>
</li>
<li>
<p>Esquemas de codificaci√≥n extra√±os</p>
</li>
<li>
<p>mal gram√°tica y ortograf√≠a.</p>
</li>
<li>
<p>Replicar mensajes de muestras del mundo real.</p>
</li>
<li>
<p>Uso de servicios compartidos o su propia IP</p>
</li>
</ul>
<p><strong>Puede consultar dominios hasta encontrar uno que no contenga registro y estos los dominios pueden falsificarse f√°cilmente usando los m√©todos convencionales.</strong></p>
<ul>
<li>Enviando un correo falso.</li>
</ul>
<p><img src="https://i.imgur.com/mHIpK40.png" alt=""></p>
<h5 id="que-funciona-usualmente-de-este-ataque">Que funciona usualmente de este ataque</h5>
<p>‚Ä¢ Restablecer contrase√±a del usuario</p>
<p>‚Ä¢ Entrega de algun paquetes de Amazon, Alibaba, Mercadolibre</p>
<p>‚Ä¢ Un incidente de recursos humanos (bien planeado)</p>
<p>‚Ä¢ Transferencias de archivos falsos</p>
<p>‚Ä¢ Todo lo que al sujeto le apasione y pueda interesarle (esta informaci√≥n est√° en sus redes sociales)</p>
<p>por ejemplo.</p>
<p><strong>Puede enviar correos invitando a los clientes a una hermosa barbacoa de la compa√±√≠a con entretenimiento y con presencia de algunas celebridades pero que solo hay reservas limitadas as√≠ que deber√≠an reservar su espacio, dentro de las 24/48 horas pr√≥ximas.</strong></p>
<p>Para que en realidad los empleados tengan que loguearse en un sitio web clonado de la compa√±ia y se les invita a introducir sus credenciales de accesso para obtener su &lsquo;Prestigioso espacio reservado&rsquo; (lol). para despu√©s ser reenviados con un redirect <strong>302</strong> a otro sitio legitimo de la compa√±ia, o bien con una ventana popup notificando que su espacio a sido reservado correctamente.</p>
<p><strong>El phising es un ataque de creatividad de distintas formas, mantente simple. Manteniendo un ojo en los controles de seguridad y defensas, y cuando el usuario cliquea, necesitamos un payload</strong></p>
<blockquote>
<p><strong>La habilidad de evasi√≥n en estos casos juega un rol fundamental</strong></p>
</blockquote>
<p>‚Ä¢ El payload normalmente se centra en:</p>
<ul>
<li>
<p>Un backdoor que da acceso al atacanete</p>
</li>
<li>
<p>un tracker para rastrear clicks</p>
</li>
<li>
<p>recoger credenciales</p>
</li>
</ul>
<hr>
<h2 id="segunda-parte">Segunda Parte</h2>
<ul>
<li>
<p>Vishing</p>
</li>
<li>
<p>Clonando Sitios</p>
</li>
</ul>
<h3 id="qu√®-es-vishing">¬øQu√® es Vishing?</h3>
<p>Es algo m√°s sofisticados ya que le sumamos la interacci√≥n con tel√©fonos m√≥viles y servicios de plataformas, que normalmente las personas suelen usar a diario como whatsapp o cualquier mensajero en l√≠nea.</p>
<p>El <strong>vishing</strong> es la suplantaci√≥n de empresas o entidades de confianza para obtener datos personales a trav√©s de una simple llamada esto sigue siendo un intento de estafa muy habitual en todo el mundo</p>
<p>Generalmente pretende suplantar la identidad de una entidad o persona con el fin de lograr su cometido que es extraer informaci√≥n privilegiada.</p>
<p>Un Vhishing es un mensaje (sms)/whatsapp o un llamada para que el usuario entregue informaci√≥n o realice comportamientos manipulados o bien entregue datos o acceso a un sistema.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">
- Llamadas

- Mensajes de voz

- SMS/WHATSAPP

</code></pre></div><p><strong>Sitios Comunes para realizar Sms Spoofing</strong></p>
<p><a href="https://www.twilio.com/es-mx/">Twilio</a></p>
<p><a href="https://www.smsgang.com/">SmsGang</a></p>
<p><img src="https://i.imgur.com/uNLRVwD.png" alt=""></p>
<p>A esto puedes sumarle otros vectores de ataque como los vistos anteriormente</p>
<ul>
<li>correo, con un enlace web (probablemente con un acortador de urls para disfrazar la direcci√≥n original).</li>
</ul>
<h4 id="clonado-de-sitios-con-formularios-de-logueo">Clonado de sitios con formularios de logueo</h4>
<p>En esta secci√≥n exploraremos las t√©cnicas de clonaci√≥n de sitios para obtener informaci√≥n sensible</p>
<p>En esta etapa debemos intentar tener en nuestra caja de herramientas, templates o plantillas de sitios clonados de plataformas populares, con el fin de capturar credenciales desde un formulario donde el usuario ingresara sus datos.</p>
<p>debemos usar certificados SSL que podemos conseguir en <a href="www.namecheap.com">namecheap</a> para dar una sensaci√≥n de seguridad al invitado.</p>
<p><img src="https://i.imgur.com/DpReiPA.png" alt=""></p>
<h4 id="setoolkit">SeToolKit</h4>
<p><strong>SEToolkit</strong> es un programa de TrustestSEC que tiene muchas funciones para ingeniera social que va desde el robo de credenciales por sitios clonados, hasta la realizaci√≥n de cargas √∫tiles de Metasploit.</p>
<p>Para clonar sitios :</p>
<ul>
<li>
<p><strong>2) Website Attack Vectors</strong></p>
</li>
<li>
<p><strong>5) Web Jacking Attack Method</strong></p>
</li>
<li>
<p><strong>3) Custom Import</strong></p>
</li>
</ul>
<p>Indicamos el path de nuestro sitio clonado y el ip de callback donde se enviaran los datos, esta t√©cnica podr√≠a hacerse manual, simplemente alojando un sitio en un servidor con un certificado de dominio similar a la de la compa√±ia que quiere spoofear, incluso se podr√≠a enviar los inputs del usuario a una base de datos liviana como sqlite</p>
<p><img src="https://i.imgur.com/vtMbsVv.jpg" alt=""></p>
<hr>
<h3 id="creaciones-de-payloads">Creaciones de Payloads</h3>
<p>Solo rasgaremos la superficie en este tema, ya que ser√° un tema que tocaremos en post posteriores y le dedicaremos una secci√≥n entera ya que es algo extenso.</p>
<p>Uno de los principios aplicados a los payloads es que traten de unirse con el binario/lnk/documento ofim√°tico/instalador o lo que sea que utilicemos para el compromiso inicial.</p>
<p>Puede visitar el sitio de <a href="https://attack.mitre.org/tactics/TA0001/">Mitre ATT&amp;CK</a> para analizar cu√°les son los ataques m√°s comunes.</p>
<p>Haremos una peque√±a POC para esto por eje:</p>
<p>Enviar un <strong>lnk malicioso</strong> comprimido en un archivo zip con contrase√±a por correo , al estar encriptado con la contrase√±a lo m√°s probable es que los scanners de correo no lo detecten, est√≥ con el fin de que cuando el usuario descomprima el fichero obtenga un &ldquo;pdf&rdquo;, cuando en realidad solo es un acceso directo o m√°s bien un <strong>&lsquo;lnk&rsquo;</strong> con <strong>icono de un PDF</strong> es un payload que puede ejecutar acciones en su pc. y podr√≠a pasar desapercibido ya que despu√©s de haber ejecutado su acci√≥n maliciosa, puede abrirle un pdf al final para que el usuario no se de cuenta de lo que sucedi√≥.</p>
<p><img src="https://i.imgur.com/hSZjNz0.png" alt=""></p>
<p>As√≠ como ejecuto un calculador como prueba de concepto tambi√©n puede realizar acciones algo m√°s adecuadas para evadir AV/EDR y obtener una shell.</p>
<p>Como por ejp: <strong>hacer una petici√≥n a un sitio web con un recurso que aloja en su interior un shellcode ofuzcado o encriptado para almacenarlo en memoria y despu√©s invocarlo con un rutina que remplaze los caracteres ofuzcados o bien desencripte la carga.</strong></p>
<p>As√≠ como tambi√©n puede enviar un documento ofim√°tico que contenga c√≥digo malicioso que se active cuando el usuario haga clic en &lsquo;entable contento&rsquo; para darle ejecuci√≥n a la macro que correr√° el c√≥digo oculto a simple vista en el documento, lo m√°s probable es que sea puerta trasera embebida en √©l.</p>
<p><strong>en el caso de que sean binarios necesitamos por ejemplo que el binario de compromiso est√©n firmados, y si es posible por entidades de confianza</strong>.</p>
<p>(Para esto puede agarrar instaladores de confianza o binarios e inyectarle el c√≥digo con <strong>&ldquo;MSFVENOM&rdquo;</strong> - <strong>&ldquo;Shellter&rdquo;</strong>)</p>
<p>No esta dem√°s decir que necesitamos que tengan iconos que se vean ‚Äòconfiables‚Äô ¬†, y la informaci√≥n necesaria para parecer leg√≠timo con el fin de no alertar al AV/DEFENDER como la versi√≥n, el proveedor del software.</p>
<p>Una herramienta √∫til interesante para firmar binarios es:</p>
<p>[SigThief]https://github.com/secretsquirrel/SigThief de SecretSquirrel</p>
<p>Extraer√° una firma de un archivo PE firmado y se la agregar√° a otro, arreglando la tabla de certificados para firmar el archivo. No es una firma valida, pero ya est√° firmado y ese es el punto.</p>
<h3 id="reporte">Reporte</h3>
<p>El reporte es lo que garantizara que hayamos realizado nuestro trabajo de investigaci√≥n. Para eso debemos tener en cuenta lo siguiente</p>
<h4 id="antes-del-reporte">Antes del reporte</h4>
<p>Gran parte de las campa√±as de ingenier√≠a social est√° vinculada a Documentaci√≥n y resultados de b√∫squedas.</p>
<ul>
<li>
<p>Todo el trabajo debe tener un seguimiento, incluso las llamadas deben poder grabarse</p>
</li>
<li>
<p>Informaci√≥n de grabaci√≥n</p>
</li>
<li>
<p>Peque√±as grabadoras de voz, o su tel√©fono.</p>
</li>
<li>
<p>Fotograf√≠as</p>
</li>
<li>
<p>C√°maras digitales para reconocimiento, o su tel√©fono</p>
</li>
</ul>
<h4 id="el-reporte">El reporte</h4>
<p>Debe ser de unas pocas p√°ginas como m√°ximo 3 paginas, pero bien detalladas y con informaci√≥n precisa o lo m√°s cercano a ello, con una breve explicaci√≥n del projecto es decir quien la realiza, cual es el fin , y el alcance del mismo.
en ¬†conclusi√≥n debemos colocar los resultados dependiendo su nivel de criticidad como</p>
<ul>
<li>
<p>bajo (green)</p>
</li>
<li>
<p>medio (yellow)</p>
</li>
<li>
<p>alto (red)</p>
</li>
</ul>
<p><strong>El phishing es una de las t√°cticas m√°s efectivas seg√∫n estatiisticas de compromisos iniciales, el arma mas fuerte para combatirla es solamente usar el sentido com√∫n</strong></p>

    </div>
    <div class="post-footer">
      
    </div>
  </article>

    </main>
  </body>
</html>
